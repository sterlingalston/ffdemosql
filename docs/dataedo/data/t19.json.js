window.repositoryObject = {"columns_custom_fields":[],"relations_custom_fields":[],"unique_keys_custom_fields":[],"triggers_custom_fields":[],"columns":[{"id":"column-143","object_id":"column-143","name":"SCREENING_ID","name_without_path":"SCREENING_ID","description":null,"is_pk":true,"is_identity":true,"data_type":"int","data_length":null,"is_nullable":false,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[],"linked_lookup":null},{"id":"column-142","object_id":"column-142","name":"CUSTOMER_ID","name_without_path":"CUSTOMER_ID","description":null,"is_pk":false,"is_identity":false,"data_type":"int","data_length":null,"is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[{"id":"t11","name":"CORE.CUSTOMERS","name_show_schema":"CORE.CUSTOMERS"}],"linked_lookup":null},{"id":"column-141","object_id":"column-141","name":"TRANSACTION_ID","name_without_path":"TRANSACTION_ID","description":null,"is_pk":false,"is_identity":false,"data_type":"int","data_length":null,"is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[],"linked_lookup":null},{"id":"column-140","object_id":"column-140","name":"ENTITY_NAME","name_without_path":"ENTITY_NAME","description":null,"is_pk":false,"is_identity":false,"data_type":"varchar","data_length":"200","is_nullable":false,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[],"linked_lookup":null},{"id":"column-139","object_id":"column-139","name":"SCREENING_TYPE","name_without_path":"SCREENING_TYPE","description":null,"is_pk":false,"is_identity":false,"data_type":"varchar","data_length":"50","is_nullable":false,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[],"linked_lookup":null},{"id":"column-138","object_id":"column-138","name":"MATCH_TYPE","name_without_path":"MATCH_TYPE","description":null,"is_pk":false,"is_identity":false,"data_type":"varchar","data_length":"50","is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[],"linked_lookup":null},{"id":"column-137","object_id":"column-137","name":"MATCH_SCORE","name_without_path":"MATCH_SCORE","description":null,"is_pk":false,"is_identity":false,"data_type":"decimal","data_length":"5, 2","is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[],"linked_lookup":null},{"id":"column-136","object_id":"column-136","name":"LIST_NAME","name_without_path":"LIST_NAME","description":null,"is_pk":false,"is_identity":false,"data_type":"varchar","data_length":"100","is_nullable":false,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[],"linked_lookup":null},{"id":"column-135","object_id":"column-135","name":"STATUS","name_without_path":"STATUS","description":null,"is_pk":false,"is_identity":false,"data_type":"varchar","data_length":"20","is_nullable":true,"computed_formula":null,"default_value":"'Pending'","path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[],"linked_lookup":null},{"id":"column-134","object_id":"column-134","name":"REVIEW_NOTES","name_without_path":"REVIEW_NOTES","description":null,"is_pk":false,"is_identity":false,"data_type":"varchar","data_length":"1000","is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[],"linked_lookup":null},{"id":"column-133","object_id":"column-133","name":"SCREENING_DATE","name_without_path":"SCREENING_DATE","description":null,"is_pk":false,"is_identity":false,"data_type":"datetime2","data_length":"7","is_nullable":true,"computed_formula":null,"default_value":"getdate()","path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[],"linked_lookup":null},{"id":"column-132","object_id":"column-132","name":"REVIEWED_BY","name_without_path":"REVIEWED_BY","description":null,"is_pk":false,"is_identity":false,"data_type":"varchar","data_length":"100","is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[],"linked_lookup":null},{"id":"column-131","object_id":"column-131","name":"REVIEWED_DATE","name_without_path":"REVIEWED_DATE","description":null,"is_pk":false,"is_identity":false,"data_type":"datetime2","data_length":"7","is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[],"linked_lookup":null}],"relations":[{"name":"FK_SANCTIONS_SCREENING_CUSTOMER","title":null,"description":null,"is_user_defined":false,"foreign_table":"COMPLIANCE.SANCTIONS_SCREENING","foreign_table_show_schema":"COMPLIANCE.SANCTIONS_SCREENING","foreign_table_verbose":"COMPLIANCE.SANCTIONS_SCREENING","foreign_table_verbose_show_schema":"COMPLIANCE.SANCTIONS_SCREENING","foreign_table_object_id":"t19","primary_table":"CORE.CUSTOMERS","primary_table_show_schema":"CORE.CUSTOMERS","primary_table_verbose":"CORE.CUSTOMERS","primary_table_verbose_show_schema":"CORE.CUSTOMERS","primary_table_object_id":"t11","pk_cardinality":"1x","fk_cardinality":"mx","constraints":[{"primary_column_path":null,"primary_column":"CUSTOMER_ID","foreign_column_path":null,"foreign_column":"CUSTOMER_ID"}],"custom_fields":{}}],"unique_keys":[{"name":"PK_SANCTIONS_SCREENING","description":null,"is_pk":true,"is_user_defined":false,"columns":[{"path":null,"name_without_path":"SCREENING_ID","name":"SCREENING_ID","column_id":143}],"custom_fields":{}}],"triggers":[{"name":"TR_SANCTIONS_SCREENING_CHANGE","description":null,"action":"After Insert Update ","script":"-- Medium-priority trigger for COMPLIANCE.SANCTIONS_SCREENING\r\nCREATE   TRIGGER TR_SANCTIONS_SCREENING_CHANGE\r\nON COMPLIANCE.SANCTIONS_SCREENING\r\nAFTER INSERT, UPDATE\r\nAS\r\nBEGIN\r\n    SET NOCOUNT ON;\r\n    \r\n    DECLARE @op_type NVARCHAR(10) = CASE \r\n        WHEN EXISTS(SELECT * FROM deleted) THEN 'UPDATE' \r\n        ELSE 'INSERT' \r\n    END;\r\n    \r\n    IF @op_type = 'INSERT'\r\n    BEGIN\r\n        INSERT INTO ADF_CONTROL.CHANGE_LOG (\r\n            TABLE_SCHEMA, TABLE_NAME, OPERATION_TYPE, RECORD_ID, \r\n            BUSINESS_DATE, PRIORITY_LEVEL, CHANGE_DATA\r\n        )\r\n        SELECT \r\n            'COMPLIANCE', 'SANCTIONS_SCREENING', 'INSERT',\r\n            CAST(SCREENING_ID AS NVARCHAR(100)),\r\n            CAST(SCREENING_DATE AS DATE),\r\n            CASE \r\n                WHEN STATUS = 'Match' OR MATCH_SCORE >= 90 THEN 'HIGH'\r\n                ELSE 'MEDIUM'\r\n            END,\r\n            (SELECT \r\n                outer_ins.SCREENING_ID,\r\n                outer_ins.CUSTOMER_ID,\r\n                outer_ins.ENTITY_NAME,\r\n                outer_ins.SCREENING_TYPE,\r\n                outer_ins.MATCH_TYPE,\r\n                outer_ins.MATCH_SCORE,\r\n                outer_ins.LIST_NAME,\r\n                outer_ins.STATUS,\r\n                outer_ins.SCREENING_DATE\r\n             FOR JSON PATH, WITHOUT_ARRAY_WRAPPER)\r\n        FROM inserted outer_ins;\r\n    END\r\n    ELSE\r\n    BEGIN\r\n        INSERT INTO ADF_CONTROL.CHANGE_LOG (\r\n            TABLE_SCHEMA, TABLE_NAME, OPERATION_TYPE, RECORD_ID, \r\n            BUSINESS_DATE, PRIORITY_LEVEL, CHANGE_DATA\r\n        )\r\n        SELECT \r\n            'COMPLIANCE', 'SANCTIONS_SCREENING', 'UPDATE',\r\n            CAST(i.SCREENING_ID AS NVARCHAR(100)),\r\n            CAST(i.SCREENING_DATE AS DATE),\r\n            CASE \r\n                WHEN i.STATUS = 'Match' OR i.MATCH_SCORE >= 90 THEN 'HIGH'\r\n                ELSE 'MEDIUM'\r\n            END,\r\n            CONCAT(\r\n                '{\"operation\":\"UPDATE\",\"old_values\":',\r\n                (SELECT \r\n                    d.SCREENING_ID,\r\n                    d.STATUS,\r\n                    d.MATCH_SCORE,\r\n                    d.REVIEW_NOTES\r\n                 FROM deleted d \r\n                 WHERE d.SCREENING_ID = i.SCREENING_ID \r\n                 FOR JSON PATH, WITHOUT_ARRAY_WRAPPER),\r\n                ',\"new_values\":',\r\n                (SELECT \r\n                    i.SCREENING_ID,\r\n                    i.STATUS,\r\n                    i.MATCH_SCORE,\r\n                    i.REVIEW_NOTES\r\n                 FOR JSON PATH, WITHOUT_ARRAY_WRAPPER),\r\n                '}'\r\n            )\r\n        FROM inserted i;\r\n    END\r\nEND;","custom_fields":{}}],"dependencies":{"uses":[{"object_name":"COMPLIANCE.SANCTIONS_SCREENING","object_name_show_schema":"COMPLIANCE.SANCTIONS_SCREENING","object_type":"TABLE","object_id":"t19","type":"NORMAL","object_user_defined":false,"user_defined":false,"children":[{"object_name":"CORE.CUSTOMERS","object_name_show_schema":"CORE.CUSTOMERS","object_type":"TABLE","object_id":"t11","type":"RELATION","pk_cardinality":"1x","fk_cardinality":"mx","object_user_defined":false,"user_defined":false,"children":[]}]},{"object_name":"COMPLIANCE.TR_SANCTIONS_SCREENING_CHANGE","object_name_show_schema":"COMPLIANCE.TR_SANCTIONS_SCREENING_CHANGE","object_type":"TRIGGER","type":"TRIGGER","object_user_defined":false,"user_defined":false,"children":[]}],"used_by":[]},"object_id":"t19","name":"COMPLIANCE.SANCTIONS_SCREENING","subtype":"TABLE","is_user_defined":false,"description":null,"summary":[{"field":"Documentation","value":{"_type":"link","name":"db_azure_ff_demo@db-server-ff-demo.database.windows.net","id":"d1"}},{"field":"Schema","value":"COMPLIANCE"},{"field":"Name","value":"SANCTIONS_SCREENING"},{"field":"Type","value":"Table"}],"script":null,"imported_at":"2025-07-03 21:41"};