window.repositoryObject = {"columns_custom_fields":[],"relations_custom_fields":[],"unique_keys_custom_fields":[],"triggers_custom_fields":[],"columns":[{"id":"column-87","object_id":"column-87","name":"ACCOUNT_ID","name_without_path":"ACCOUNT_ID","description":null,"is_pk":true,"is_identity":true,"data_type":"int","data_length":null,"is_nullable":false,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[],"linked_lookup":null},{"id":"column-86","object_id":"column-86","name":"INSTITUTION_ID","name_without_path":"INSTITUTION_ID","description":null,"is_pk":false,"is_identity":false,"data_type":"int","data_length":null,"is_nullable":false,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[{"id":"t7","name":"CORE.FINANCIAL_INSTITUTIONS","name_show_schema":"CORE.FINANCIAL_INSTITUTIONS"}],"linked_lookup":null},{"id":"column-85","object_id":"column-85","name":"CUSTOMER_ID","name_without_path":"CUSTOMER_ID","description":null,"is_pk":false,"is_identity":false,"data_type":"int","data_length":null,"is_nullable":false,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[{"id":"t11","name":"CORE.CUSTOMERS","name_show_schema":"CORE.CUSTOMERS"}],"linked_lookup":null},{"id":"column-84","object_id":"column-84","name":"PRODUCT_TYPE_ID","name_without_path":"PRODUCT_TYPE_ID","description":null,"is_pk":false,"is_identity":false,"data_type":"int","data_length":null,"is_nullable":false,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[{"id":"t9","name":"CORE.PRODUCT_TYPES","name_show_schema":"CORE.PRODUCT_TYPES"}],"linked_lookup":null},{"id":"column-83","object_id":"column-83","name":"ACCOUNT_NUMBER","name_without_path":"ACCOUNT_NUMBER","description":null,"is_pk":false,"is_identity":false,"data_type":"varchar","data_length":"50","is_nullable":false,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[],"linked_lookup":null},{"id":"column-82","object_id":"column-82","name":"ACCOUNT_NAME","name_without_path":"ACCOUNT_NAME","description":null,"is_pk":false,"is_identity":false,"data_type":"varchar","data_length":"200","is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[],"linked_lookup":null},{"id":"column-81","object_id":"column-81","name":"CURRENT_BALANCE","name_without_path":"CURRENT_BALANCE","description":null,"is_pk":false,"is_identity":false,"data_type":"decimal","data_length":"15, 2","is_nullable":true,"computed_formula":null,"default_value":"0","path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[],"linked_lookup":null},{"id":"column-80","object_id":"column-80","name":"AVAILABLE_BALANCE","name_without_path":"AVAILABLE_BALANCE","description":null,"is_pk":false,"is_identity":false,"data_type":"decimal","data_length":"15, 2","is_nullable":true,"computed_formula":null,"default_value":"0","path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[],"linked_lookup":null},{"id":"column-79","object_id":"column-79","name":"PENDING_BALANCE","name_without_path":"PENDING_BALANCE","description":null,"is_pk":false,"is_identity":false,"data_type":"decimal","data_length":"15, 2","is_nullable":true,"computed_formula":null,"default_value":"0","path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[],"linked_lookup":null},{"id":"column-78","object_id":"column-78","name":"OVERDRAFT_LIMIT","name_without_path":"OVERDRAFT_LIMIT","description":null,"is_pk":false,"is_identity":false,"data_type":"decimal","data_length":"12, 2","is_nullable":true,"computed_formula":null,"default_value":"0","path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[],"linked_lookup":null},{"id":"column-77","object_id":"column-77","name":"INTEREST_RATE","name_without_path":"INTEREST_RATE","description":null,"is_pk":false,"is_identity":false,"data_type":"decimal","data_length":"5, 4","is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[],"linked_lookup":null},{"id":"column-76","object_id":"column-76","name":"OPEN_DATE","name_without_path":"OPEN_DATE","description":null,"is_pk":false,"is_identity":false,"data_type":"datetime2","data_length":"7","is_nullable":false,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[],"linked_lookup":null},{"id":"column-75","object_id":"column-75","name":"LAST_TRANSACTION_DATE","name_without_path":"LAST_TRANSACTION_DATE","description":null,"is_pk":false,"is_identity":false,"data_type":"datetime2","data_length":"7","is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[],"linked_lookup":null},{"id":"column-74","object_id":"column-74","name":"STATUS","name_without_path":"STATUS","description":null,"is_pk":false,"is_identity":false,"data_type":"varchar","data_length":"20","is_nullable":true,"computed_formula":null,"default_value":"'Active'","path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[],"linked_lookup":null},{"id":"column-73","object_id":"column-73","name":"CLOSE_DATE","name_without_path":"CLOSE_DATE","description":null,"is_pk":false,"is_identity":false,"data_type":"datetime2","data_length":"7","is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[],"linked_lookup":null},{"id":"column-181","object_id":"column-181","name":"CLOSE_REASON","name_without_path":"CLOSE_REASON","description":null,"is_pk":false,"is_identity":false,"data_type":"varchar","data_length":"100","is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[],"linked_lookup":null},{"id":"column-180","object_id":"column-180","name":"CREATED_DATE","name_without_path":"CREATED_DATE","description":null,"is_pk":false,"is_identity":false,"data_type":"datetime2","data_length":"7","is_nullable":true,"computed_formula":null,"default_value":"getdate()","path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[],"linked_lookup":null}],"relations":[{"name":"FK_ACCOUNTS_CUSTOMER","title":null,"description":null,"is_user_defined":false,"foreign_table":"CORE.ACCOUNTS","foreign_table_show_schema":"CORE.ACCOUNTS","foreign_table_verbose":"CORE.ACCOUNTS","foreign_table_verbose_show_schema":"CORE.ACCOUNTS","foreign_table_object_id":"t18","primary_table":"CORE.CUSTOMERS","primary_table_show_schema":"CORE.CUSTOMERS","primary_table_verbose":"CORE.CUSTOMERS","primary_table_verbose_show_schema":"CORE.CUSTOMERS","primary_table_object_id":"t11","pk_cardinality":"1x","fk_cardinality":"mx","constraints":[{"primary_column_path":null,"primary_column":"CUSTOMER_ID","foreign_column_path":null,"foreign_column":"CUSTOMER_ID"}],"custom_fields":{}},{"name":"FK_ACCOUNTS_INSTITUTION","title":null,"description":null,"is_user_defined":false,"foreign_table":"CORE.ACCOUNTS","foreign_table_show_schema":"CORE.ACCOUNTS","foreign_table_verbose":"CORE.ACCOUNTS","foreign_table_verbose_show_schema":"CORE.ACCOUNTS","foreign_table_object_id":"t18","primary_table":"CORE.FINANCIAL_INSTITUTIONS","primary_table_show_schema":"CORE.FINANCIAL_INSTITUTIONS","primary_table_verbose":"CORE.FINANCIAL_INSTITUTIONS","primary_table_verbose_show_schema":"CORE.FINANCIAL_INSTITUTIONS","primary_table_object_id":"t7","pk_cardinality":"1x","fk_cardinality":"mx","constraints":[{"primary_column_path":null,"primary_column":"INSTITUTION_ID","foreign_column_path":null,"foreign_column":"INSTITUTION_ID"}],"custom_fields":{}},{"name":"FK_ACCOUNTS_PRODUCT_TYPE","title":null,"description":null,"is_user_defined":false,"foreign_table":"CORE.ACCOUNTS","foreign_table_show_schema":"CORE.ACCOUNTS","foreign_table_verbose":"CORE.ACCOUNTS","foreign_table_verbose_show_schema":"CORE.ACCOUNTS","foreign_table_object_id":"t18","primary_table":"CORE.PRODUCT_TYPES","primary_table_show_schema":"CORE.PRODUCT_TYPES","primary_table_verbose":"CORE.PRODUCT_TYPES","primary_table_verbose_show_schema":"CORE.PRODUCT_TYPES","primary_table_object_id":"t9","pk_cardinality":"1x","fk_cardinality":"mx","constraints":[{"primary_column_path":null,"primary_column":"PRODUCT_TYPE_ID","foreign_column_path":null,"foreign_column":"PRODUCT_TYPE_ID"}],"custom_fields":{}},{"name":"FK_CARD_ACCOUNTS_LINKED_ACCOUNT","title":null,"description":null,"is_user_defined":false,"foreign_table":"CARDS.CARD_ACCOUNTS","foreign_table_show_schema":"CARDS.CARD_ACCOUNTS","foreign_table_verbose":"CARDS.CARD_ACCOUNTS","foreign_table_verbose_show_schema":"CARDS.CARD_ACCOUNTS","foreign_table_object_id":"t12","primary_table":"CORE.ACCOUNTS","primary_table_show_schema":"CORE.ACCOUNTS","primary_table_verbose":"CORE.ACCOUNTS","primary_table_verbose_show_schema":"CORE.ACCOUNTS","primary_table_object_id":"t18","pk_cardinality":"1x","fk_cardinality":"mx","constraints":[{"primary_column_path":null,"primary_column":"ACCOUNT_ID","foreign_column_path":null,"foreign_column":"LINKED_ACCOUNT_ID"}],"custom_fields":{}},{"name":"FK_TRANSACTIONS_DEBIT_ACCOUNT","title":null,"description":null,"is_user_defined":false,"foreign_table":"PAYMENTS.TRANSACTIONS","foreign_table_show_schema":"PAYMENTS.TRANSACTIONS","foreign_table_verbose":"PAYMENTS.TRANSACTIONS","foreign_table_verbose_show_schema":"PAYMENTS.TRANSACTIONS","foreign_table_object_id":"t6","primary_table":"CORE.ACCOUNTS","primary_table_show_schema":"CORE.ACCOUNTS","primary_table_verbose":"CORE.ACCOUNTS","primary_table_verbose_show_schema":"CORE.ACCOUNTS","primary_table_object_id":"t18","pk_cardinality":"1x","fk_cardinality":"mx","constraints":[{"primary_column_path":null,"primary_column":"ACCOUNT_ID","foreign_column_path":null,"foreign_column":"DEBIT_ACCOUNT_ID"}],"custom_fields":{}},{"name":"FK_TRANSACTIONS_CREDIT_ACCOUNT","title":null,"description":null,"is_user_defined":false,"foreign_table":"PAYMENTS.TRANSACTIONS","foreign_table_show_schema":"PAYMENTS.TRANSACTIONS","foreign_table_verbose":"PAYMENTS.TRANSACTIONS","foreign_table_verbose_show_schema":"PAYMENTS.TRANSACTIONS","foreign_table_object_id":"t6","primary_table":"CORE.ACCOUNTS","primary_table_show_schema":"CORE.ACCOUNTS","primary_table_verbose":"CORE.ACCOUNTS","primary_table_verbose_show_schema":"CORE.ACCOUNTS","primary_table_object_id":"t18","pk_cardinality":"1x","fk_cardinality":"mx","constraints":[{"primary_column_path":null,"primary_column":"ACCOUNT_ID","foreign_column_path":null,"foreign_column":"CREDIT_ACCOUNT_ID"}],"custom_fields":{}}],"unique_keys":[{"name":"PK_ACCOUNTS","description":null,"is_pk":true,"is_user_defined":false,"columns":[{"path":null,"name_without_path":"ACCOUNT_ID","name":"ACCOUNT_ID","column_id":87}],"custom_fields":{}},{"name":"UQ_ACCOUNTS_NUMBER","description":null,"is_pk":false,"is_user_defined":false,"columns":[{"path":null,"name_without_path":"INSTITUTION_ID","name":"INSTITUTION_ID","column_id":86},{"path":null,"name_without_path":"ACCOUNT_NUMBER","name":"ACCOUNT_NUMBER","column_id":83}],"custom_fields":{}}],"triggers":[{"name":"TR_ACCOUNTS_EventLog","description":null,"action":"After Insert Update Delete ","script":"CREATE TRIGGER TR_ACCOUNTS_EventLog\r\nON CORE.ACCOUNTS\r\nAFTER INSERT, UPDATE, DELETE\r\nAS\r\nBEGIN\r\n    SET NOCOUNT ON;\r\n    \r\n    DECLARE @Operation NVARCHAR(10)\r\n    \r\n    IF EXISTS(SELECT 1 FROM inserted) AND EXISTS(SELECT 1 FROM deleted)\r\n        SET @Operation = 'UPDATE'\r\n    ELSE IF EXISTS(SELECT 1 FROM inserted)\r\n        SET @Operation = 'INSERT'\r\n    ELSE\r\n        SET @Operation = 'DELETE'\r\n    \r\n    IF @Operation = 'INSERT'\r\n    BEGIN\r\n        INSERT INTO dbo.EventLog (SchemaName, TableName, Operation, RecordID, NewValues)\r\n        SELECT \r\n            'CORE',\r\n            'ACCOUNTS',\r\n            'INSERT',\r\n            CAST(ACCOUNT_ID AS NVARCHAR(50)),\r\n            (SELECT * FROM inserted i WHERE i.ACCOUNT_ID = inserted.ACCOUNT_ID FOR JSON AUTO)\r\n        FROM inserted\r\n    END\r\n    \r\n    IF @Operation = 'UPDATE'\r\n    BEGIN\r\n        INSERT INTO dbo.EventLog (SchemaName, TableName, Operation, RecordID, OldValues, NewValues)\r\n        SELECT \r\n            'CORE',\r\n            'ACCOUNTS',\r\n            'UPDATE',\r\n            CAST(i.ACCOUNT_ID AS NVARCHAR(50)),\r\n            (SELECT * FROM deleted d WHERE d.ACCOUNT_ID = i.ACCOUNT_ID FOR JSON AUTO),\r\n            (SELECT * FROM inserted ins WHERE ins.ACCOUNT_ID = i.ACCOUNT_ID FOR JSON AUTO)\r\n        FROM inserted i\r\n    END\r\n    \r\n    IF @Operation = 'DELETE'\r\n    BEGIN\r\n        INSERT INTO dbo.EventLog (SchemaName, TableName, Operation, RecordID, OldValues)\r\n        SELECT \r\n            'CORE',\r\n            'ACCOUNTS',\r\n            'DELETE',\r\n            CAST(ACCOUNT_ID AS NVARCHAR(50)),\r\n            (SELECT * FROM deleted d WHERE d.ACCOUNT_ID = deleted.ACCOUNT_ID FOR JSON AUTO)\r\n        FROM deleted\r\n    END\r\nEND","custom_fields":{}}],"dependencies":{"uses":[{"object_name":"CORE.ACCOUNTS","object_name_show_schema":"CORE.ACCOUNTS","object_type":"TABLE","object_id":"t18","type":"NORMAL","object_user_defined":false,"user_defined":false,"children":[{"object_name":"CORE.CUSTOMERS","object_name_show_schema":"CORE.CUSTOMERS","object_type":"TABLE","object_id":"t11","type":"RELATION","pk_cardinality":"1x","fk_cardinality":"mx","object_user_defined":false,"user_defined":false,"children":[]},{"object_name":"CORE.FINANCIAL_INSTITUTIONS","object_name_show_schema":"CORE.FINANCIAL_INSTITUTIONS","object_type":"TABLE","object_id":"t7","type":"RELATION","pk_cardinality":"1x","fk_cardinality":"mx","object_user_defined":false,"user_defined":false,"children":[]},{"object_name":"CORE.PRODUCT_TYPES","object_name_show_schema":"CORE.PRODUCT_TYPES","object_type":"TABLE","object_id":"t9","type":"RELATION","pk_cardinality":"1x","fk_cardinality":"mx","object_user_defined":false,"user_defined":false,"children":[]}]},{"object_name":"CORE.TR_ACCOUNTS_EventLog","object_name_show_schema":"CORE.TR_ACCOUNTS_EventLog","object_type":"TRIGGER","type":"TRIGGER","object_user_defined":false,"user_defined":false,"children":[]}],"used_by":[{"object_name":"CORE.ACCOUNTS","object_name_show_schema":"CORE.ACCOUNTS","object_type":"TABLE","object_id":"t18","type":"NORMAL","object_user_defined":false,"user_defined":false,"children":[{"object_name":"CARDS.CARD_ACCOUNTS","object_name_show_schema":"CARDS.CARD_ACCOUNTS","object_type":"TABLE","object_id":"t12","type":"RELATION","pk_cardinality":"1x","fk_cardinality":"mx","object_user_defined":false,"user_defined":false,"children":[]},{"object_name":"PAYMENTS.TRANSACTIONS","object_name_show_schema":"PAYMENTS.TRANSACTIONS","object_type":"TABLE","object_id":"t6","type":"RELATION","pk_cardinality":"1x","fk_cardinality":"mx","object_user_defined":false,"user_defined":false,"children":[]},{"object_name":"PAYMENTS.TRANSACTIONS","object_name_show_schema":"PAYMENTS.TRANSACTIONS","object_type":"TABLE","object_id":"t6","type":"RELATION","pk_cardinality":"1x","fk_cardinality":"mx","object_user_defined":false,"user_defined":false,"children":[]}]}]},"object_id":"t18","name":"CORE.ACCOUNTS","subtype":"TABLE","is_user_defined":false,"description":null,"summary":[{"field":"Documentation","value":{"_type":"link","name":"db_azure_ff_demo@db-server-ff-demo.database.windows.net","id":"d1"}},{"field":"Schema","value":"CORE"},{"field":"Name","value":"ACCOUNTS"},{"field":"Type","value":"Table"}],"script":null,"imported_at":"2025-07-03 21:41"};