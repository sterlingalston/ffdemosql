window.repositoryObject = {"columns_custom_fields":[],"relations_custom_fields":[],"unique_keys_custom_fields":[],"triggers_custom_fields":[],"columns":[{"id":"column-195","object_id":"column-195","name":"EVENT_ID","name_without_path":"EVENT_ID","description":null,"is_pk":true,"is_identity":true,"data_type":"int","data_length":null,"is_nullable":false,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[],"linked_lookup":null},{"id":"column-194","object_id":"column-194","name":"RULE_ID","name_without_path":"RULE_ID","description":null,"is_pk":false,"is_identity":false,"data_type":"int","data_length":null,"is_nullable":false,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[{"id":"t8","name":"RISK.RISK_RULES","name_show_schema":"RISK.RISK_RULES"}],"linked_lookup":null},{"id":"column-193","object_id":"column-193","name":"INSTITUTION_ID","name_without_path":"INSTITUTION_ID","description":null,"is_pk":false,"is_identity":false,"data_type":"int","data_length":null,"is_nullable":false,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[{"id":"t7","name":"CORE.FINANCIAL_INSTITUTIONS","name_show_schema":"CORE.FINANCIAL_INSTITUTIONS"}],"linked_lookup":null},{"id":"column-192","object_id":"column-192","name":"CUSTOMER_ID","name_without_path":"CUSTOMER_ID","description":null,"is_pk":false,"is_identity":false,"data_type":"int","data_length":null,"is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[{"id":"t11","name":"CORE.CUSTOMERS","name_show_schema":"CORE.CUSTOMERS"}],"linked_lookup":null},{"id":"column-191","object_id":"column-191","name":"ACCOUNT_ID","name_without_path":"ACCOUNT_ID","description":null,"is_pk":false,"is_identity":false,"data_type":"int","data_length":null,"is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[],"linked_lookup":null},{"id":"column-190","object_id":"column-190","name":"TRANSACTION_ID","name_without_path":"TRANSACTION_ID","description":null,"is_pk":false,"is_identity":false,"data_type":"int","data_length":null,"is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[],"linked_lookup":null},{"id":"column-189","object_id":"column-189","name":"CARD_TRANSACTION_ID","name_without_path":"CARD_TRANSACTION_ID","description":null,"is_pk":false,"is_identity":false,"data_type":"int","data_length":null,"is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[],"linked_lookup":null},{"id":"column-188","object_id":"column-188","name":"EVENT_TYPE","name_without_path":"EVENT_TYPE","description":null,"is_pk":false,"is_identity":false,"data_type":"varchar","data_length":"50","is_nullable":false,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[],"linked_lookup":null},{"id":"column-187","object_id":"column-187","name":"EVENT_DESCRIPTION","name_without_path":"EVENT_DESCRIPTION","description":null,"is_pk":false,"is_identity":false,"data_type":"varchar","data_length":"500","is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[],"linked_lookup":null},{"id":"column-186","object_id":"column-186","name":"RISK_SCORE","name_without_path":"RISK_SCORE","description":null,"is_pk":false,"is_identity":false,"data_type":"int","data_length":null,"is_nullable":false,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[],"linked_lookup":null},{"id":"column-42","object_id":"column-42","name":"SEVERITY","name_without_path":"SEVERITY","description":null,"is_pk":false,"is_identity":false,"data_type":"varchar","data_length":"20","is_nullable":false,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[],"linked_lookup":null},{"id":"column-41","object_id":"column-41","name":"STATUS","name_without_path":"STATUS","description":null,"is_pk":false,"is_identity":false,"data_type":"varchar","data_length":"20","is_nullable":true,"computed_formula":null,"default_value":"'Open'","path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[],"linked_lookup":null},{"id":"column-40","object_id":"column-40","name":"ASSIGNED_TO","name_without_path":"ASSIGNED_TO","description":null,"is_pk":false,"is_identity":false,"data_type":"varchar","data_length":"100","is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[],"linked_lookup":null},{"id":"column-254","object_id":"column-254","name":"RESOLUTION_NOTES","name_without_path":"RESOLUTION_NOTES","description":null,"is_pk":false,"is_identity":false,"data_type":"varchar","data_length":"1000","is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[],"linked_lookup":null},{"id":"column-253","object_id":"column-253","name":"EVENT_DATE","name_without_path":"EVENT_DATE","description":null,"is_pk":false,"is_identity":false,"data_type":"datetime2","data_length":"7","is_nullable":true,"computed_formula":null,"default_value":"getdate()","path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[],"linked_lookup":null},{"id":"column-252","object_id":"column-252","name":"RESOLVED_DATE","name_without_path":"RESOLVED_DATE","description":null,"is_pk":false,"is_identity":false,"data_type":"datetime2","data_length":"7","is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[],"linked_lookup":null}],"relations":[{"name":"FK_RISK_EVENTS_CUSTOMER","title":null,"description":null,"is_user_defined":false,"foreign_table":"RISK.RISK_EVENTS","foreign_table_show_schema":"RISK.RISK_EVENTS","foreign_table_verbose":"RISK.RISK_EVENTS","foreign_table_verbose_show_schema":"RISK.RISK_EVENTS","foreign_table_object_id":"t14","primary_table":"CORE.CUSTOMERS","primary_table_show_schema":"CORE.CUSTOMERS","primary_table_verbose":"CORE.CUSTOMERS","primary_table_verbose_show_schema":"CORE.CUSTOMERS","primary_table_object_id":"t11","pk_cardinality":"1x","fk_cardinality":"mx","constraints":[{"primary_column_path":null,"primary_column":"CUSTOMER_ID","foreign_column_path":null,"foreign_column":"CUSTOMER_ID"}],"custom_fields":{}},{"name":"FK_RISK_EVENTS_INSTITUTION","title":null,"description":null,"is_user_defined":false,"foreign_table":"RISK.RISK_EVENTS","foreign_table_show_schema":"RISK.RISK_EVENTS","foreign_table_verbose":"RISK.RISK_EVENTS","foreign_table_verbose_show_schema":"RISK.RISK_EVENTS","foreign_table_object_id":"t14","primary_table":"CORE.FINANCIAL_INSTITUTIONS","primary_table_show_schema":"CORE.FINANCIAL_INSTITUTIONS","primary_table_verbose":"CORE.FINANCIAL_INSTITUTIONS","primary_table_verbose_show_schema":"CORE.FINANCIAL_INSTITUTIONS","primary_table_object_id":"t7","pk_cardinality":"1x","fk_cardinality":"mx","constraints":[{"primary_column_path":null,"primary_column":"INSTITUTION_ID","foreign_column_path":null,"foreign_column":"INSTITUTION_ID"}],"custom_fields":{}},{"name":"FK_RISK_EVENTS_RULE","title":null,"description":null,"is_user_defined":false,"foreign_table":"RISK.RISK_EVENTS","foreign_table_show_schema":"RISK.RISK_EVENTS","foreign_table_verbose":"RISK.RISK_EVENTS","foreign_table_verbose_show_schema":"RISK.RISK_EVENTS","foreign_table_object_id":"t14","primary_table":"RISK.RISK_RULES","primary_table_show_schema":"RISK.RISK_RULES","primary_table_verbose":"RISK.RISK_RULES","primary_table_verbose_show_schema":"RISK.RISK_RULES","primary_table_object_id":"t8","pk_cardinality":"1x","fk_cardinality":"mx","constraints":[{"primary_column_path":null,"primary_column":"RULE_ID","foreign_column_path":null,"foreign_column":"RULE_ID"}],"custom_fields":{}}],"unique_keys":[{"name":"PK_RISK_EVENTS","description":null,"is_pk":true,"is_user_defined":false,"columns":[{"path":null,"name_without_path":"EVENT_ID","name":"EVENT_ID","column_id":195}],"custom_fields":{}}],"triggers":[{"name":"TR_RISK_EVENTS_CHANGE","description":null,"action":"After Insert Update ","script":"-- Additional trigger for RISK.RISK_EVENTS (for risk management)\r\nCREATE   TRIGGER TR_RISK_EVENTS_CHANGE\r\nON RISK.RISK_EVENTS\r\nAFTER INSERT, UPDATE\r\nAS\r\nBEGIN\r\n    SET NOCOUNT ON;\r\n    \r\n    DECLARE @op_type NVARCHAR(10) = CASE \r\n        WHEN EXISTS(SELECT * FROM deleted) THEN 'UPDATE' \r\n        ELSE 'INSERT' \r\n    END;\r\n    \r\n    INSERT INTO ADF_CONTROL.CHANGE_LOG (\r\n        TABLE_SCHEMA, TABLE_NAME, OPERATION_TYPE, RECORD_ID, \r\n        BUSINESS_DATE, PRIORITY_LEVEL, CHANGE_DATA\r\n    )\r\n    SELECT \r\n        'RISK', 'RISK_EVENTS', @op_type,\r\n        CAST(EVENT_ID AS NVARCHAR(100)),\r\n        CAST(EVENT_DATE AS DATE),\r\n        CASE \r\n            WHEN SEVERITY = 'Critical' OR RISK_SCORE >= 90 THEN 'HIGH'\r\n            WHEN SEVERITY = 'High' OR RISK_SCORE >= 70 THEN 'MEDIUM'\r\n            ELSE 'LOW'\r\n        END,\r\n        (SELECT \r\n            outer_ins.EVENT_ID,\r\n            outer_ins.RULE_ID,\r\n            outer_ins.INSTITUTION_ID,\r\n            outer_ins.CUSTOMER_ID,\r\n            outer_ins.EVENT_TYPE,\r\n            outer_ins.RISK_SCORE,\r\n            outer_ins.SEVERITY,\r\n            outer_ins.STATUS,\r\n            outer_ins.EVENT_DATE\r\n         FOR JSON PATH, WITHOUT_ARRAY_WRAPPER)\r\n    FROM inserted outer_ins;\r\nEND;","custom_fields":{}}],"dependencies":{"uses":[{"object_name":"RISK.RISK_EVENTS","object_name_show_schema":"RISK.RISK_EVENTS","object_type":"TABLE","object_id":"t14","type":"NORMAL","object_user_defined":false,"user_defined":false,"children":[{"object_name":"CORE.CUSTOMERS","object_name_show_schema":"CORE.CUSTOMERS","object_type":"TABLE","object_id":"t11","type":"RELATION","pk_cardinality":"1x","fk_cardinality":"mx","object_user_defined":false,"user_defined":false,"children":[]},{"object_name":"CORE.FINANCIAL_INSTITUTIONS","object_name_show_schema":"CORE.FINANCIAL_INSTITUTIONS","object_type":"TABLE","object_id":"t7","type":"RELATION","pk_cardinality":"1x","fk_cardinality":"mx","object_user_defined":false,"user_defined":false,"children":[]},{"object_name":"RISK.RISK_RULES","object_name_show_schema":"RISK.RISK_RULES","object_type":"TABLE","object_id":"t8","type":"RELATION","pk_cardinality":"1x","fk_cardinality":"mx","object_user_defined":false,"user_defined":false,"children":[]}]},{"object_name":"RISK.TR_RISK_EVENTS_CHANGE","object_name_show_schema":"RISK.TR_RISK_EVENTS_CHANGE","object_type":"TRIGGER","type":"TRIGGER","object_user_defined":false,"user_defined":false,"children":[]}],"used_by":[]},"object_id":"t14","name":"RISK.RISK_EVENTS","subtype":"TABLE","is_user_defined":false,"description":null,"summary":[{"field":"Documentation","value":{"_type":"link","name":"db_azure_ff_demo@db-server-ff-demo.database.windows.net","id":"d1"}},{"field":"Schema","value":"RISK"},{"field":"Name","value":"RISK_EVENTS"},{"field":"Type","value":"Table"}],"script":null,"imported_at":"2025-07-03 21:41"};